<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
  <script src="wasm_exec.js"></script>
  <script>
    const go = new Go();
    WebAssembly
      .instantiateStreaming(fetch("json.wasm"), go.importObject)
      .then((result) => {
        go.run(result.instance);
      })
  </script>
</head>

<body>
  <textarea id="input" name="input" cols="80" rows="20">{"website":"golangbot.com", "tutorials": {"string":"https://golangbot.com/strings/", "maps":"https://golangbot.com/maps/", "goroutine":"https://golangbot.com/goroutines/", "channels":"https://golangbot.com/channels/"}}</textarea>
  <input id="button" type="submit" name="button" value="pretty json" onclick="json(input.value)"/>
  <textarea id="output" name="output" cols="80" rows="20"></textarea>
</body>
<script>
  var json = function(input) {
    output.value = formatJSON(input)
  }
</script>

</html>